## 고민

1. axios 사용하면 안되는지?
2. cache를 직접 수정해도 되는지?

이유는 다음과 같다.

채팅 내역을 보여주기 위해서는 크게 다음 두 가지 API가 필요

- GET Thread
- POST Thread

POST Thread를 보내면 응답으로 Event Stream이 떨어짐. 이 Event Stream을 보여주기 위한 선택지가 두개가 존재

- 별도의 상태를
- GET Thread 의 캐시를 이용한다

## cache를 사용하면 장/단점

1. 장점

- 굳이 상태를 만들지 않아도 된다.
-

## 상황

1. 기존 스레드 요청

cache를 이용하는 경우,

- [스레드 진입] 스레드 내역을 요청하여 캐싱한다.
- [메세지 전달] 요청을 보내고 스레드 캐싱을 수정한다.
- [메세지 수신] 응답을 받고 스레드 캐싱을 수정한다.0

cache를 이용하지 않는 경우,

- [스레드 진입] 스레드 내역을 요청하여 가져온다.
- [메세지 입력]
  - 메세지를 보내고 스레드 내역을 다시 리패칭한다.
  - 받아오는 메세지를 실시간으로 상태에 저장한다.
  - 모든 메세지를 받아오면 스레드 내역을 다시 리패칭한다.

2. 기존 스레드 마지막 메세지 재요청

cache를 이용하는 경우,

- [스레드 진입] 스레드 내역을 요청하여 캐싱한다.
- [메세지 입력] 배열에서 해당 메세지를 찾아 수정한다음 요청을 보낸다.

cache를 이용하지 않는 경우,

- [스레드 진입] 스레드 내역을 요청하여 가져온다.
- [메세지 입력]
  - 메세지를 보내고 스레드 내역을 다시 리패칭한다.
  - 받아오는 메세지를 실시간으로 상태에 저장한다.
  - 모든 메세지를 받아오면 스레드 내역을 다시 리패칭한다.

## 비동기 케이스

1. A창에서 입력하고 B창에서도 입력하는 경우
2. A창에서 입력하고 B창에서 중간 메세지를 삭제하는 경우
3. A창에서 입력하고 B창에서 스레드를 삭제하는 경우

## 고민3

마운트시에만 스레드 정보를 가져오면 어떤 문제가 발생할까?
